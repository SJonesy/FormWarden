(function(c){typeof define==="function"?define(c):typeof exports==="object"?c(require,exports):c(void 0,fw={})})(function(c,h){var e=Object.prototype.hasOwnProperty,i=Array.prototype.forEach,m=Array.prototype.slice,l={},j=function(a,c,d){if(a!=null)if(i&&a.forEach===i)a.forEach(c,d);else if(a.length===+a.length)for(var b=0,h=a.length;b<h;b++){if(b in a&&c.call(d,a[b],b,a)===l)break}else for(b in a)if(e.call(a,b)&&c.call(d,a[b],b,a)===l)break},g=function(a){j(m.call(arguments,1),function(b){for(var d in b)b[d]!==
void 0&&(a[d]=b[d])});return a},b={required:function(a){return a===void 0||a===null?!0:a.length||a!==""},email:function(a){if(a)return a.match(/\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i)},ssn:function(a){if(a)return a.match(/\b[0-9]{3}-[0-9]{2}-[0-9]{4}\b/)},date:function(a){if(a)return a.match(/(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)[0-9]{2}/)},iso8601:function(a){if(a)return a.match(/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/)},maxLength:function(a,b,d){if(a)return a.length<=
d.length},minLength:function(a,b,d){if(a)return a.length>=d.length}};h.validateForm=function(a,c){var d={},h=!0,i=g(b,c.validators||{});j(c.fields,function(b,c){var e=b&&b.isVisible&&typeof b.isVisible=="function"&&!b.isVisible(a)?!1:!0,f;a:if(b){f=a[c];for(var g=!b.push?b.validations:b,j=0;j<g.length;j++){var k=g[j];if(k.isValid.test){if(!k.isValid.test(f)){f=k.message||c+" is invalid";break a}}else if(typeof k.isValid=="function"){if(!k.isValid(f,a)){f=k.message||c+" is invalid";break a}}else{var l=
i[k.isValid];if(l)if(l(f,a,k))k.valid&&k.valid();else{k.invalid&&k.invalid();f=k.message||c+" is invalid";break a}else console.log("Validation Function not found: "+k.isValid)}}f=""}else f=!0;g=!e||e&&f==="";h&=g;d[c]={visible:e,error:f,valid:!!g}});j(a,function(b,g){if(c.conventionBased&&b!="")for(var j in i)if(g.indexOf(j)>-1){var l=!!i[j](b,a);d[g]={visible:!0,error:l?"":i[j].message||g+" is invalid",valid:l};h&=l}e.call(d,g)||(d[g]={visible:!0,error:"",valid:!0})});return{fields:d,validForm:!!h}}});
var fieldsEntered={};
(function(c){c.fn.validation=function(){var h=Array.prototype.slice.call(arguments);if(h.length===2&&h[0]==="valid")c(this).data("valid",h[1]);else if(h.length===2&&h[0]==="invalid")c(this).data("invalid",h[1]);else{var e=arguments[0]?jQuery.extend({enableBlur:!0},arguments[0]):{},i=this,h=function(b,a){var f,d,g=e.validationSummary?c(e.validationSummary):c(".validation_summary");g.html("");c("[name]",i).parent().removeClass("invalid");c(".star").remove();for(f in b.fields)if(d=b.fields[f],a&&Object.prototype.hasOwnProperty.call(a,
f)&&d.valid===!1){var h=c("[name='"+f+"']",i);d=h.parent();h.attr("title",b.fields[f].error.replace("*",""));d.addClass("invalid");g.append("<li>"+b.fields[f].error.replace("*","")+"</li>")}},m=function(b){for(var a in b.fields){var f=c("[name='"+a+"']");b.fields[a].visible?(f.parent("p, div, label").show(),f.removeAttr("disabled")):(f.parent("p, div, label").hide(),f.attr("disabled","disabled"))}};if(this[0].tagName!=="FORM")console.error("FormsWarden:: Selector must be a form element");else{e.validators=
e.validators||{};e.processErrors=e.processErrors?e.processErrors:h;e.processVisibility=e.processVisibility?e.processVisibility:m;var l=function(){var b={};c("[name]",i).each(function(a,f){var d=c(this).val(),e=f.name;f.type=="radio"&&c("[name='"+e+"']:checked").length===0&&(d="");f.type=="checkbox"&&(d=c("[name='"+e+"']:checked"),d=d.length===0?"":d.map(function(){return this.value}).toArray());f.type=="select-multiple"&&(d=c("[name='"+e+"'] option:selected"),d=d.length===0?"":d.map(function(){return this.value}).toArray());
f.type=="select-one"&&(d=c("[name='"+e+"'] option:selected"),d=d.length===0?"":d.map(function(){return this.value}).toArray()[0]);b[f.name]=d});return b},j=function(){var b=l();e.before&&e.before(b);b=fw.validateForm(b,e,fieldsEntered);e.processErrors(b,fieldsEntered);e.processVisibility(b);e.after&&e.after(b.validForm,b);return b.validForm};c(this).submit(function(b){fieldsEntered=l();if(!j())return b.preventDefault(),b.stopPropagation(),typeof c(this).data("invalid")==="function"&&c(this).data("invalid")(b),
!1;typeof c(this).data("valid")==="function"&&c(this).data("valid")(b);if(e.beforeSubmit){var a=e.beforeSubmit();a!==void 0&&!a&&(b.preventDefault(),b.stopPropagation())}});if(e.enableBlur){var g=function(){fieldsEntered[this.name]=!0;return j()};c("select[name]",i).change(g);c("select multiple[name]",i).change(g);c("[type='radio'][name]",i).change(g);c("[type='checkbox'][name]",i).click(function(){this.checked?c(this).attr("checked","checked"):c(this).removeAttr("checked");g()});c("[name]",i).blur(g)}fieldsEntered=
{}}}}})(jQuery);
