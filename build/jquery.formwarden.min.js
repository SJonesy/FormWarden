(function(b){typeof define==="function"?define(b):typeof exports==="object"?b(require,exports):b(void 0,fw={})})(function(b,c){var d=Object.prototype.hasOwnProperty,f=Array.prototype.forEach,k=Array.prototype.slice,i={},g=function(a,b,o){if(a!=null)if(f&&a.forEach===f)a.forEach(b,o);else if(a.length===+a.length)for(var e=0,c=a.length;e<c;e++){if(e in a&&b.call(o,a[e],e,a)===i)break}else for(e in a)if(d.call(a,e)&&b.call(o,a[e],e,a)===i)break},e=function(a){g(k.call(arguments,1),function(b){for(var e in b)b[e]!==
void 0&&(a[e]=b[e])});return a},q={required:function(a){return a===void 0||a===null?!0:a.length||a!==""},email:function(a){if(a)return a.match(/\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i)},ssn:function(a){if(a)return a.match(/\b[0-9]{3}-[0-9]{2}-[0-9]{4}\b/)},date:function(a){if(a)return a.match(/(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)[0-9]{2}/)},iso8601:function(a){if(a)return a.match(/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/)},maxLength:function(a,b,e){if(a)return a.length<=
e.length},minLength:function(a,b,e){if(a)return a.length>=e.length}};c.validateForm=function(a,b){var c={},f=!0;g(b.fields,function(d,m){var g=d&&d.isVisible&&typeof d.isVisible=="function"&&!d.isVisible(a)?!1:!0,j;a:if(j=e(q,b.validators||{}),d){for(var l=a[m],i=!d.push?d.validations:d,k=0;k<i.length;k++){var h=i[k];if(h.isValid.test){if(!h.isValid.test(l)){j=h.message||m+" is invalid";break a}}else if(typeof h.isValid=="function"){if(!h.isValid(l,a)){j=h.message||m+" is invalid";break a}}else{var p=
j[h.isValid];if(p)if(p(l,a,h))h.valid&&h.valid();else{h.invalid&&h.invalid();j=h.message||m+" is invalid";break a}else console.log("Validation Function not found: "+h.isValid)}}j=""}else j=!0;l=!g||g&&j==="";f&=l;c[m]={visible:g,error:j,valid:!!l}});g(a,function(a,b){d.call(c,b)||(c[b]={visible:!0,error:"",valid:!0})});return{fields:c,validForm:!!f}}});var fieldsEntered={};
(function(b){b.fn.validation=function(){var c=Array.prototype.slice.call(arguments);if(c.length===2&&c[0]==="valid")b(this).data("valid",c[1]);else if(c.length===2&&c[0]==="invalid")b(this).data("invalid",c[1]);else{var d=arguments[0]?jQuery.extend({enableBlur:!0},arguments[0]):{},f=this,c=function(e,c){var a,n,g=d.validationSummary?b(d.validationSummary):b(".validation_summary",f);g.html("");b("[name]",f).parent().removeClass("invalid");b(".star").remove();for(a in e.fields)if(n=e.fields[a],Object.prototype.hasOwnProperty.call(c,
a)&&n.valid===!1){var i=b("[name='"+a+"']",f);n=i.parent();i.attr("title",e.fields[a].error.replace("*",""));n.addClass("invalid");g.append("<li>"+e.fields[a].error.replace("*","")+"</li>")}},k=function(e){for(var d in e.fields){var a=b("[name='"+d+"']");e.fields[d].visible?(a.parent("p, div, label").show(),a.removeAttr("disabled")):(a.parent("p, div, label").hide(),a.attr("disabled","disabled"))}};if(this[0].tagName!=="FORM")alert("must be a form element");else{d.validators=d.validators||{};d.processErrors=
d.processErrors?d.processErrors:c;d.processVisibility=d.processVisibility?d.processVisibility:k;var i=function(){var e={};b("[name]",f).each(function(d,a){var c=b(this).val(),f=a.name;a.type=="radio"&&b("[name='"+f+"']:checked").length===0&&(c="");a.type=="checkbox"&&(c=b("[name='"+f+"']:checked"),c=c.length===0?"":c.map(function(){return this.value}).toArray());a.type=="select-multiple"&&(c=b("[name='"+f+"'] option:selected"),c=c.length===0?"":c.map(function(){return this.value}).toArray());a.type==
"select-one"&&(c=b("[name='"+f+"'] option:selected"),c=c.length===0?"":c.map(function(){return this.value}).toArray()[0]);e[a.name]=c});return e},g=function(){var b=i(),b=fw.validateForm(b,d,fieldsEntered);d.processErrors(b,fieldsEntered);d.processVisibility(b);return b.validForm};b(this).submit(function(c){fieldsEntered=i();if(!g())return c.preventDefault(),c.stopPropagation(),typeof b(this).data("invalid")==="function"&&b(this).data("invalid")(c),!1;typeof b(this).data("valid")==="function"&&b(this).data("valid")(c)});
d.enableBlur&&(c=function(){fieldsEntered[this.name]=!0;return g()},b("select[name]",f).change(c),b("select multiple[name]",f).change(c),b("[type='radio'][name]",f).change(c),b("[type='checkbox'][name]",f).click(function(){this.checked?b(this).attr("checked","checked"):b(this).removeAttr("checked")}),b("[name]",f).blur(c));fieldsEntered={};g()}}}})(jQuery);
