/*! form-warden 2.0.11 */
!function(a){"function"==typeof define?define(a):"object"==typeof exports?a(require,exports):a(void 0,fw={})}(function(a,b){"use strict";var c=a?a("path"):null,d=a?a("fs"):null,e=Object.prototype.hasOwnProperty,f=Array.prototype.forEach,g=Array.prototype.slice,h={},i=function(a,b,c){if(null!=a)if(f&&a.forEach===f)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,g=a.length;g>d;d++)if(d in a&&b.call(c,a[d],d,a)===h)return}else for(var i in a)if(e.call(a,i)&&b.call(c,a[i],i,a)===h)return},j=function(a){return i(g.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])}),a},k={required:function(a){return void 0===a||null===a?!0:a.length||""!==a},email:function(a){return a?a.match(/\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i):void 0},ssn:function(a){return a?a.match(/\b[0-9]{3}-[0-9]{2}-[0-9]{4}\b/):void 0},date:function(a){return a?a.match(/(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)[0-9]{2}/):void 0},iso8601:function(a){return a?a.match(/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/):void 0},maxLength:function(a,b,c){return a?a.length<=c.length:void 0},minLength:function(a,b,c){return a?a.length>=c.length:void 0}},l=function(a,b,c,d){if(!c)return!0;for(var e=a[b],f=c.push?!1:!0,g=f?c.validations:c,h=0;h<g.length;h++){var i=g[h];if(i.isValid.test){var j=i.isValid;if(!j.test(e))return i.message||b+" is invalid"}else if("function"==typeof i.isValid){if(!i.isValid(e,a))return i.message||b+" is invalid"}else{var k=d[i.isValid];if(k){if(!k(e,a,i))return i.invalid&&i.invalid(),i.message||b+" is invalid";i.valid&&i.valid()}else console.log("Validation Function not found: "+i.isValid)}}return""},m=function(a,b){return b&&b.isVisible&&"function"==typeof b.isVisible&&!b.isVisible(a)?!1:!0};b.validateForm=function(a,b){var c={},d=!0,f=j(k,b.validators||{});return i(b.fields,function(e,g){var h,i=m(a,e),j=l(a,g,e,f,b.conventionBased),k=!i||i&&""===j;d&=k,h={visible:i,error:j,valid:!!k},h&&(c[g]=h)}),i(a,function(g,h){if(b.conventionBased&&""!=g)for(var i in f)if(h.indexOf(i)>-1){var j=!!f[i](g,a),k=j?"":f[i].message||h+" is invalid";c[h]={visible:!0,error:k,valid:j},d&=j}e.call(c,h)||(c[h]={visible:!0,error:"",valid:!0})}),{fields:c,validForm:!!d}},b.getFormWardenScriptContents=function(){if(!c||!d)return void console.log("This is not supported as a client side function.");var a=c.join(__dirname,"formwarden.js");return d.readFileSync(a,"utf8")},b.getJqueryFormWardenScriptContents=function(){if(!c||!d)return void console.log("This is not supported as a client side function.");var a=c.join(__dirname,"jquery.formwarden.js");return d.readFileSync(a,"utf8")}});var fieldsEntered={};!function(a){a.fn.validation=function(){var b=Array.prototype.slice.call(arguments);if(2===b.length&&"valid"===b[0])return void a(this).data("valid",b[1]);if(2===b.length&&"invalid"===b[0])return void a(this).data("invalid",b[1]);var c=arguments[0]?jQuery.extend({enableBlur:!0},arguments[0]):{},d=this,e=function(b,e){var f,g,h,i=a(c.validationSummary?c.validationSummary:".validation_summary");i.html(""),a("[name]",d).parent().removeClass("invalid"),a(".star").remove();for(f in b.fields)if(h=b.fields[f],e&&Object.prototype.hasOwnProperty.call(e,f)&&h.valid===!1){var j=a("[name='"+f+"']",d);g=j.parent(),j.attr("title",b.fields[f].error.replace("*","")),g.addClass("invalid"),i.append("<li>"+b.fields[f].error.replace("*","")+"</li>")}},f=function(b){var c;for(c in b.fields){var d=a("[name='"+c+"']");b.fields[c].visible?(d.parent("p, div, label").show(),d.removeAttr("disabled")):(d.parent("p, div, label").hide(),d.attr("disabled","disabled"))}};if("FORM"!==this[0].tagName)return void console.error("FormsWarden:: Selector must be a form element");c.validators=c.validators||{},c.processErrors=c.processErrors?c.processErrors:e,c.processVisibility=c.processVisibility?c.processVisibility:f;var g=function(){var b={};return a("[name]",d).each(function(c,d){var e,f=a(this).val(),g=d.name;"radio"==d.type&&0===a("[name='"+g+"']:checked").length&&(f=""),"checkbox"==d.type&&(e=a("[name='"+g+"']:checked"),f=0===e.length?"":e.map(function(){return this.value}).toArray()),"select-multiple"==d.type&&(e=a("[name='"+g+"'] option:selected"),f=0===e.length?"":e.map(function(){return this.value}).toArray()),"select-one"==d.type&&(e=a("[name='"+g+"'] option:selected"),f=0===e.length?"":e.map(function(){return this.value}).toArray()[0]),b[d.name]?b.push?b.push(f):(b[d.name]=[b[d.name]],b[d.name].push(f)):b[d.name]=f}),b},h=function(){var a=g();c.before&&c.before(a);var b=fw.validateForm(a,c,fieldsEntered);return c.processErrors(b,fieldsEntered),c.processVisibility(b),c.after&&c.after(b.validForm,b),b.validForm};if(a(this).submit(function(b){if(fieldsEntered=g(),!h())return b.preventDefault(),b.stopPropagation(),"function"==typeof a(this).data("invalid")&&a(this).data("invalid")(b),!1;if("function"==typeof a(this).data("valid")&&a(this).data("valid")(b),c.beforeSubmit){var d=c.beforeSubmit();void 0===d||d||(b.preventDefault(),b.stopPropagation())}}),c.enableBlur){var i=function(){return fieldsEntered[this.name]=!0,h()};a("select[name]",d).change(i),a("select multiple[name]",d).change(i),a("[type='radio'][name]",d).change(i),a("[type='checkbox'][name]",d).click(function(){this.checked?a(this).attr("checked","checked"):a(this).removeAttr("checked"),i()}),a("[name]",d).blur(i)}fieldsEntered={}}}(jQuery);