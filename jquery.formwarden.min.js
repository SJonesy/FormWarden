var fieldsEntered={};
(function(a){a.fn.validation=function(f){var e=this,j=function(g,b){var c,d,f=a(".validation_summary",e);f.html("");a("[name]",e).parent("p,div").removeClass("invalid");a("span.star").remove();for(c in g.fields)d=g.fields[c],Object.prototype.hasOwnProperty.call(b,c)&&d.valid===!1&&(d=a("[name="+c+"]",e).parent("p,div"),d.append("<span class='star'>*</span>"),d.addClass("invalid"),f.append("<li>"+g.fields[c].error+"</li>"))},k=function(g){for(var b in g.fields){var c=a("[name="+b+"]");g.fields[b].visible?
(c.parent("p, div").show(),c.removeAttr("disabled")):(c.parent("p, div").hide(),c.attr("disabled","disabled"))}},b=f?jQuery.extend({enableBlur:!0},f):{};if(this[0].tagName!=="FORM")alert("must be a form element");else{b.validators=b.validators||{};b.processErrors=b.processErrors?b.processErrors:j;b.processVisibility=b.processVisibility?b.processVisibility:k;var i=function(){var b={};a("[name]",e).each(function(f,c){var d=a(this).val(),e=c.name;c.type=="radio"&&a("[name='"+e+"']:checked").length===
0&&(d="");c.type=="checkbox"&&(d=a("[name="+e+"]:checked"),d=d.length===0?"":d.map(function(){return this.value}).toArray());c.type=="select-multiple"&&(d=a("[name="+e+"] option:selected"),d=d.length===0?"":d.map(function(){return this.value}).toArray());b[c.name]=d});return b},h=function(){var a=i(),a=validateForm(a,b,fieldsEntered);b.processErrors(a,fieldsEntered);b.processVisibility(a);return a.validForm};a(this).submit(function(){fieldsEntered=i();return h()});b.enableBlur&&(f=function(){fieldsEntered[this.name]=
!0;return h()},a("select[name]",e).change(f),a("select multiple[name]",e).change(f),a("[type='radio'][name]",e).change(f),a("[type='checkbox'][name]",e).change(f),a("[name]",e).blur(f));fieldsEntered={};h()}}})(jQuery);
