(function(h){typeof define==="function"?define(h):typeof exports==="object"?h(require,exports):h(void 0,fw={})})(function(h,p){var k=Object.prototype.hasOwnProperty,n=Array.prototype.forEach,q=Array.prototype.slice,o={},i=function(a,c,b){if(a!=null)if(n&&a.forEach===n)a.forEach(c,b);else if(a.length===+a.length)for(var e=0,f=a.length;e<f;e++){if(e in a&&c.call(b,a[e],e,a)===o)break}else for(e in a)if(k.call(a,e)&&c.call(b,a[e],e,a)===o)break},r=function(a){i(q.call(arguments,1),function(c){for(var b in c)c[b]!==
void 0&&(a[b]=c[b])});return a},s={required:function(a){return a===void 0||a===null?!0:a.length||a!==""},email:function(a){return a.match(/\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i)},ssn:function(a){return a.match(/\b[0-9]{3}-[0-9]{2}-[0-9]{4}\b/)},date:function(a){return a.match(/(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)[0-9]{2}/)},iso8601:function(a){return a.match(/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/)},maxLength:function(a,c,b){return a.length<=b.length},minLength:function(a,
c,b){return a.length>=b.length}};p.validateForm=function(a,c){var b={},e=!0;i(c.fields,function(f,l){var h=f&&f.isVisible&&typeof f.isVisible=="function"&&!f.isVisible(a)?!1:!0,g;a:if(g=r(s,c.validators||{}),f){for(var j=a[l],i=!f.push?f.validations:f,m=0;m<i.length;m++){var d=i[m];if(d.isValid.test){if(!d.isValid.test(j)){g=d.message||l+" is invalid";break a}}else if(typeof d.isValid=="function"){if(!d.isValid(j,a)){g=d.message||l+" is invalid";break a}}else{var k=g[d.isValid];if(k)if(k(j,a,d))d.valid&&
d.valid();else{d.invalid&&d.invalid();g=d.message||l+" is invalid";break a}else alert("Validation Function not found: "+d.isValid)}}g=""}else g=!0;j=!h||h&&g==="";e&=j;b[l]={visible:h,error:g,valid:!!j}});i(a,function(a,c){k.call(b,c)||(b[c]={visible:!0,error:"",valid:!0})});return{fields:b,validForm:!!e}}});
